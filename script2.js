const _0x1c0de7=_0xb463;(function(_0x2435bc,_0x375008){const _0x141a54=_0xb463,_0x555ad1=_0x2435bc();while(!![]){try{const _0x1675e2=parseInt(_0x141a54(0x1e3))/0x1+parseInt(_0x141a54(0x1ce))/0x2+-parseInt(_0x141a54(0x208))/0x3+-parseInt(_0x141a54(0x21f))/0x4*(-parseInt(_0x141a54(0x1d3))/0x5)+-parseInt(_0x141a54(0x200))/0x6*(-parseInt(_0x141a54(0x16f))/0x7)+parseInt(_0x141a54(0x1a8))/0x8*(-parseInt(_0x141a54(0x189))/0x9)+parseInt(_0x141a54(0x210))/0xa*(-parseInt(_0x141a54(0x1ba))/0xb);if(_0x1675e2===_0x375008)break;else _0x555ad1['push'](_0x555ad1['shift']());}catch(_0x54df33){_0x555ad1['push'](_0x555ad1['shift']());}}}(_0x3875,0x99424));const GROQ_API_KEY=_0x1c0de7(0x196),DISCORD_CLIENT_ID=_0x1c0de7(0x19c),GOOGLE_CLIENT_ID=_0x1c0de7(0x21c),REDIRECT_URI='https://fallai.netlify.app',DISCORD_WEBHOOK=_0x1c0de7(0x173),chat=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x1aa)),userInput=document['getElementById'](_0x1c0de7(0x183)),sendBtn=document[_0x1c0de7(0x1ad)]('send-btn'),stopBtn=document[_0x1c0de7(0x1ad)]('stop-btn'),scrollBtn=document[_0x1c0de7(0x1ad)]('scroll-btn'),loginBtn=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x223)),logoutBtn=document[_0x1c0de7(0x1ad)]('logout-btn'),usernameSpan=document['getElementById']('username'),userAvatar=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x193)),loginModal=document[_0x1c0de7(0x1ad)]('login-modal'),loginGoogleBtn=document[_0x1c0de7(0x1ad)]('login-google'),loginDiscordBtn=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x17a)),loginCancelBtn=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x1bb)),fileBtn=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x19d)),fileInput=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x215)),filePreview=document['getElementById']('file-preview'),clearBtn=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x1c2)),confirmModal=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x17b)),confirmYes=document[_0x1c0de7(0x1ad)](_0x1c0de7(0x16b)),confirmNo=document['getElementById'](_0x1c0de7(0x1f1));let abortController=null,typingEl=null,pendingFiles=[];function appendMessage(_0x18598d,_0x296a16,_0x6f8ae1=!![]){const _0x60a387=_0x1c0de7;typingEl&&_0x18598d===_0x60a387(0x1ae)&&(typingEl[_0x60a387(0x1a9)](),typingEl=null);const _0x36b0a1=document[_0x60a387(0x206)](_0x60a387(0x175));_0x36b0a1['className']=_0x60a387(0x1d7)+_0x18598d;let _0xedd374=marked[_0x60a387(0x21a)](_0x296a16);_0xedd374=_0xedd374['replace'](/<pre><code(?: class="language-\w+")?>([\s\S]*?)<\/code><\/pre>/g,(_0x58c592,_0x4198e0)=>{const _0x5b4b4d=_0x60a387,_0x1754ba=_0x4198e0[_0x5b4b4d(0x1ac)](/&lt;/g,'<')[_0x5b4b4d(0x1ac)](/&gt;/g,'>')[_0x5b4b4d(0x1ac)](/&amp;/g,'&'),_0x1b4d25=_0x5b4b4d(0x19a)+Math[_0x5b4b4d(0x1d6)]()['toString'](0x24)['substr'](0x2,0x9);return _0x5b4b4d(0x1ec)+_0x18598d+_0x5b4b4d(0x1da)+_0x1754ba[_0x5b4b4d(0x1ac)](/"/g,'&quot;')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-header\x22><i\x20data-lucide=\x22file-text\x22></i>\x20Fall.ai</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-content\x22\x20id=\x22'+_0x1b4d25+'\x22><pre>'+_0x4198e0+_0x5b4b4d(0x20f)+_0x1b4d25+_0x5b4b4d(0x1a5);}),_0x36b0a1[_0x60a387(0x1c9)]=_0xedd374,chat['appendChild'](_0x36b0a1),chat[_0x60a387(0x1c5)]=chat[_0x60a387(0x1ea)],lucide[_0x60a387(0x1c6)]({'icons':[_0x60a387(0x1f5),_0x60a387(0x16a)]}),saveChatHistory();if(_0x18598d===_0x60a387(0x1ae)&&_0x6f8ae1){const _0x474a46=JSON[_0x60a387(0x21a)](localStorage[_0x60a387(0x185)]('user_data'));logToDiscord(_0x60a387(0x1eb),_0x296a16,_0x474a46);}}function logToDiscord(_0x207944,_0x1944a3,_0x4022b2=null){const _0x170800=_0x1c0de7,_0x2c63dd={'title':_0x207944,'description':_0x1944a3,'color':0xe7a96f,'timestamp':new Date()[_0x170800(0x198)](),..._0x4022b2&&{'author':{'name':_0x4022b2[_0x170800(0x20b)],'icon_url':_0x4022b2[_0x170800(0x1f3)]}}};fetch(DISCORD_WEBHOOK,{'method':'POST','headers':{'Content-Type':_0x170800(0x17d)},'body':JSON[_0x170800(0x229)]({'embeds':[_0x2c63dd]})})[_0x170800(0x1a1)](()=>{});}function updateFileBtnState(){const _0x2ba4ab=_0x1c0de7,_0x5a3359=JSON[_0x2ba4ab(0x21a)](localStorage['getItem']('user_data'));fileBtn[_0x2ba4ab(0x21d)]=!_0x5a3359;}updateFileBtnState();function updateUIForUser(_0x443e98){const _0x470f29=_0x1c0de7;usernameSpan[_0x470f29(0x1a0)]=_0x443e98[_0x470f29(0x20b)],userAvatar[_0x470f29(0x209)]=_0x443e98[_0x470f29(0x1f3)],userAvatar[_0x470f29(0x201)][_0x470f29(0x1c8)]=_0x470f29(0x1b0),loginBtn[_0x470f29(0x201)][_0x470f29(0x1c8)]=_0x470f29(0x1f6),logoutBtn[_0x470f29(0x201)][_0x470f29(0x1c8)]=_0x470f29(0x20e),updateFileBtnState(),loadChatHistory();}loginBtn[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),()=>loginModal[_0x1c0de7(0x1af)][_0x1c0de7(0x1a4)](_0x1c0de7(0x1df))),loginCancelBtn[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),()=>loginModal['classList']['remove'](_0x1c0de7(0x1df))),loginModal[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),_0x45046b=>{const _0x5c2da6=_0x1c0de7;if(_0x45046b[_0x5c2da6(0x1de)]===loginModal)loginModal[_0x5c2da6(0x1af)][_0x5c2da6(0x1a9)](_0x5c2da6(0x1df));}),loginGoogleBtn[_0x1c0de7(0x1a3)]('click',()=>{const _0x4ad8c3=_0x1c0de7;loginModal[_0x4ad8c3(0x1af)]['remove'](_0x4ad8c3(0x1df));const _0x1a2808=new URLSearchParams({'client_id':GOOGLE_CLIENT_ID,'redirect_uri':REDIRECT_URI,'response_type':_0x4ad8c3(0x1e4),'scope':'openid\x20profile\x20email'});window['location'][_0x4ad8c3(0x1f9)]=_0x4ad8c3(0x1cc)+_0x1a2808[_0x4ad8c3(0x1b2)]();}),loginDiscordBtn['addEventListener'](_0x1c0de7(0x1a6),()=>{const _0x3cabe1=_0x1c0de7;loginModal[_0x3cabe1(0x1af)]['remove'](_0x3cabe1(0x1df));const _0x30c692=new URLSearchParams({'client_id':DISCORD_CLIENT_ID,'redirect_uri':REDIRECT_URI,'response_type':_0x3cabe1(0x1e4),'scope':_0x3cabe1(0x1ed)});window[_0x3cabe1(0x1dd)][_0x3cabe1(0x1f9)]=_0x3cabe1(0x16c)+_0x30c692[_0x3cabe1(0x1b2)]();}),logoutBtn[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),()=>{const _0x11be63=_0x1c0de7,_0x2a91d9=JSON[_0x11be63(0x21a)](localStorage[_0x11be63(0x185)](_0x11be63(0x203)));logToDiscord('Logout',_0x11be63(0x1d0),_0x2a91d9),localStorage[_0x11be63(0x176)](_0x11be63(0x203)),usernameSpan['textContent']='Pinkie\x20Guest',userAvatar[_0x11be63(0x201)][_0x11be63(0x1c8)]='none',loginBtn[_0x11be63(0x201)][_0x11be63(0x1c8)]=_0x11be63(0x20e),logoutBtn[_0x11be63(0x201)]['display']=_0x11be63(0x1f6),clearChatUI(),updateFileBtnState();}),clearBtn[_0x1c0de7(0x1a3)]('click',()=>{const _0x57e6f8=_0x1c0de7;confirmModal[_0x57e6f8(0x1af)]['add']('active'),lucide[_0x57e6f8(0x1c6)]({'icons':[_0x57e6f8(0x179)]});}),confirmYes[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),()=>{const _0x4373c3=_0x1c0de7;confirmModal[_0x4373c3(0x1af)][_0x4373c3(0x1a9)](_0x4373c3(0x1df));const _0x1101d4=getChatStorageKey();if(_0x1101d4)localStorage['removeItem'](_0x1101d4);clearChatUI();const _0x1f562d=JSON[_0x4373c3(0x21a)](localStorage[_0x4373c3(0x185)](_0x4373c3(0x203)));appendMessage('bot',_0x4373c3(0x212),![]),logToDiscord(_0x4373c3(0x1d8),_0x4373c3(0x1a7),_0x1f562d);}),confirmNo[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),()=>{const _0x1d79d5=_0x1c0de7;confirmModal['classList']['remove'](_0x1d79d5(0x1df));}),confirmModal['addEventListener'](_0x1c0de7(0x1a6),_0x1be7cf=>{const _0xe6417a=_0x1c0de7;if(_0x1be7cf[_0xe6417a(0x1de)]===confirmModal)confirmModal['classList'][_0xe6417a(0x1a9)](_0xe6417a(0x1df));});function handleOAuthRedirect(){const _0x49b156=_0x1c0de7;if(window[_0x49b156(0x1dd)][_0x49b156(0x224)]){const _0x1042fe=new URLSearchParams(window['location'][_0x49b156(0x224)][_0x49b156(0x1e5)](0x1)),_0x5b2b15=_0x1042fe[_0x49b156(0x1e2)](_0x49b156(0x1b8));_0x5b2b15&&(fetch('https://discord.com/api/users/@me',{'headers':{'Authorization':_0x49b156(0x184)+_0x5b2b15}})[_0x49b156(0x18d)](_0x283a82=>_0x283a82['ok']?_0x283a82[_0x49b156(0x1fb)]():Promise[_0x49b156(0x1ee)]())[_0x49b156(0x18d)](_0x46ddaa=>{const _0x5316ca=_0x49b156;saveUser({'id':_0x46ddaa['id'],'name':_0x46ddaa[_0x5316ca(0x1f4)]+'#'+_0x46ddaa[_0x5316ca(0x1a2)],'avatar':_0x46ddaa['avatar']?'https://cdn.discordapp.com/avatars/'+_0x46ddaa['id']+'/'+_0x46ddaa[_0x5316ca(0x1f3)]+_0x5316ca(0x1c1):_0x5316ca(0x18b),'provider':'discord'});})[_0x49b156(0x1a1)](()=>{const _0x28b925=_0x49b156;fetch(_0x28b925(0x180),{'headers':{'Authorization':'Bearer\x20'+_0x5b2b15}})[_0x28b925(0x18d)](_0x20220f=>_0x20220f['json']())[_0x28b925(0x18d)](_0x1fdc31=>{const _0x4dee63=_0x28b925;saveUser({'id':_0x1fdc31['sub']||_0x1fdc31[_0x4dee63(0x227)]||_0x1fdc31[_0x4dee63(0x20b)],'name':_0x1fdc31[_0x4dee63(0x20b)],'avatar':_0x1fdc31[_0x4dee63(0x221)],'provider':'google'});})[_0x28b925(0x1a1)](()=>alert('Login\x20failed.'));}),window[_0x49b156(0x191)][_0x49b156(0x1d4)]({},document['title'],window['location'][_0x49b156(0x18e)]));}else{const _0x2df78c=JSON[_0x49b156(0x21a)](localStorage[_0x49b156(0x185)](_0x49b156(0x203)));if(_0x2df78c)updateUIForUser(_0x2df78c);}}function saveUser(_0x30c362){const _0x2aed2f=_0x1c0de7;localStorage['setItem']('user_data',JSON[_0x2aed2f(0x229)](_0x30c362)),updateUIForUser(_0x30c362),logToDiscord('Login',_0x2aed2f(0x20c)+_0x30c362[_0x2aed2f(0x1e6)]+'.',_0x30c362);}function _0xb463(_0x216899,_0x105219){const _0x387596=_0x3875();return _0xb463=function(_0xb463fc,_0x46a057){_0xb463fc=_0xb463fc-0x16a;let _0x162e67=_0x387596[_0xb463fc];return _0x162e67;},_0xb463(_0x216899,_0x105219);}function getUserId(){const _0x53de54=_0x1c0de7,_0x2fde58=JSON[_0x53de54(0x21a)](localStorage[_0x53de54(0x185)](_0x53de54(0x203)));if(!_0x2fde58)return null;if(_0x2fde58['provider']===_0x53de54(0x194))return _0x53de54(0x17f)+_0x2fde58['id'];if(_0x2fde58[_0x53de54(0x1e6)]===_0x53de54(0x1b1))return _0x53de54(0x1d1)+_0x2fde58['id'];return null;}function _0x3875(){const _0x4bb016=['You\x20are\x20Fall\x20AI,\x20a\x20helpful\x20assistant.','POST','location','target','active','clipboard','User\x20sent\x20code:\x0a```\x0a','get','935020mglzEg','token','substring','provider','split','<i\x20data-lucide=\x22file-text\x22></i><span\x20class=\x22file-preview-filename\x22>','contains','scrollHeight','AI\x20Response','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-block\x22\x20data-role=\x22','identify\x20email','reject','scrollTo','dataset','confirm-no','message\x20bot\x20typing-animation','avatar','username','file-text','none','</span>\x0a\x20\x20\x20\x20<button\x20class=\x22file-preview-remove\x22\x20title=\x22Remove\x22\x20data-idx=\x22','hidden','href','role','json','AbortError','User\x20sent\x20file:\x20**','onclick','\x0a```','6hVhgOv','style','keydown','user_data','Code\x20Block','preventDefault','createElement','value','3715122tdtriU','src','utf-8','name','User\x20logged\x20in\x20via\x20','key','inline-flex','</pre></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-btn\x22\x20onclick=\x22navigator.clipboard.writeText(document.getElementById(\x27','1633830cwChea','\x0a```\x0a','Chat\x20history\x20was\x20cleared.','overflowY','appendChild','file-input','toLowerCase','querySelectorAll','read','llama3-70b-8192','parse','trim','430741103805-r80p5k14p9e66srupo4jvdle4pen1fqb.apps.googleusercontent.com','disabled','more\x20please','1356LbVWcF','file-block','picture','writeText','login-btn','hash','noch\x20mehr\x20davon','\x22><i\x20data-lucide=\x22x\x22></i></button>','email','.file-preview-remove','stringify','copy','confirm-yes','https://discord.com/api/oauth2/authorize?','File\x20(Text/File)','startsWith','8189713jepJwt','button','Copied!','choices','https://ptb.discord.com/api/webhooks/1376582619294208122/No5f6xr5L6e4c3ZFNL6YbIoP7MnSFw6X_0YBG7s7jjeej6Mhlu-yd2gPJ_tmUFu2tIF2','file-preview-block','div','removeItem','clientHeight','length','alert-triangle','login-discord','confirm-modal','(Answer\x20canceled)','application/json','className','discord_','https://www.googleapis.com/oauth2/v3/userinfo','message','User\x20sent:\x20','user-input','Bearer\x20','getItem','mehr\x20davon','file-content','https://api.groq.com/openai/v1/chat/completions','86274yEmtVE','chat_history_','https://cdn.discordapp.com/embed/avatars/0.png','\x20(triggered\x20repeat\x20of\x20last\x20AI\x20message)','then','pathname','Enter','load','history','Message','user-avatar','discord','signal','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','filename','toISOString','abort','codeblock-','forEach','1376180153654448180','file-btn','input','shiftKey','textContent','catch','discriminator','addEventListener','add','\x27).innerText);\x20this.textContent=\x27Copied!\x27;\x20setTimeout(()=>this.innerHTML=\x27<i\x20data-lucide=copy></i>\x20Copy\x27,1200);\x22><i\x20data-lucide=\x22copy\x22></i>\x20Copy</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','click','User\x20cleared\x20their\x20chat\x20history.','184hFqcmn','remove','chat','decode','replace','getElementById','bot','classList','inline-block','google','toString','splice','some','content','more\x20of\x20that','file','access_token','.message.bot,\x20.file-block','55YJZTZx','login-cancel','copy-btn','please\x20more','height','push','from','.png','clear-btn','user','body','scrollTop','createIcons','auto','display','innerHTML','<i\x20data-lucide=\x22copy\x22></i>\x20Copy','mehr\x20bitte','https://accounts.google.com/o/oauth2/v2/auth?','slice','897376rQciJD','scroll','User\x20logged\x20out.','google_','data:\x20','5160ekvHcK','replaceState','\x0a**Welcome\x20to\x20Fall.ai!\x20ðŸ‘‹**\x0a\x0aHereâ€™s\x20how\x20to\x20use\x20the\x20site\x20and\x20the\x20AI:\x0a\x0a1.\x20**Type\x20your\x20question\x20or\x20message**\x20in\x20the\x20chat\x20box\x20below\x20and\x20press\x20Enter\x20or\x20click\x20\x22Send\x22.\x0a2.\x20**Upload\x20files**\x20(optional)\x20by\x20clicking\x20the\x20paperclip\x20icon.\x20The\x20AI\x20can\x20analyze\x20text\x20files\x20and\x20answer\x20questions\x20about\x20them.\x0a3.\x20**Login**\x20with\x20Discord\x20or\x20Google\x20for\x20saving\x20your\x20chat\x20history\x20and\x20unlocking\x20more\x20features.\x0a4.\x20**Clear\x20chat**\x20anytime\x20with\x20the\x20trash\x20icon.\x0a5.\x20**Ask\x20for\x20more**\x20by\x20typing\x20\x22more\x20of\x20that\x22\x20or\x20\x22please\x20more\x22\x20to\x20get\x20extended\x20answers.\x0a\x0a**Tips:**\x0a-\x20Use\x20Markdown\x20and\x20code\x20blocks\x20for\x20better\x20formatting.\x0a-\x20You\x20can\x20copy\x20code\x20snippets\x20with\x20the\x20\x22Copy\x22\x20button.\x0a-\x20Your\x20chat\x20history\x20is\x20saved\x20locally\x20and\x20(if\x20logged\x20in)\x20to\x20your\x20account.\x0a\x0aEnjoy\x20exploring\x20Fall.ai!\x20ðŸš€\x0a\x20\x20\x20\x20','random','message\x20','Chat\x20Cleared','setItem','\x22\x20data-filename=\x22Fall.ai\x22\x20data-content=\x22'];_0x3875=function(){return _0x4bb016;};return _0x3875();}function getChatStorageKey(){const _0x32a73c=_0x1c0de7,_0x7a3470=getUserId();return _0x7a3470?_0x32a73c(0x18a)+_0x7a3470:null;}function saveChatHistory(){const _0x35301f=_0x1c0de7,_0x43f7bf=getChatStorageKey();if(!_0x43f7bf)return;const _0x41d66d=[];document['querySelectorAll']('#chat\x20.message,\x20#chat\x20.file-block')[_0x35301f(0x19b)](_0x58d642=>{const _0x4f2d7e=_0x35301f;_0x58d642[_0x4f2d7e(0x1af)][_0x4f2d7e(0x1e9)](_0x4f2d7e(0x220))?_0x41d66d[_0x4f2d7e(0x1bf)]({'role':_0x58d642[_0x4f2d7e(0x1f0)][_0x4f2d7e(0x1fa)],'file':!![],'filename':_0x58d642[_0x4f2d7e(0x1f0)]['filename'],'content':_0x58d642[_0x4f2d7e(0x1f0)][_0x4f2d7e(0x1b5)]}):_0x41d66d[_0x4f2d7e(0x1bf)]({'role':_0x58d642[_0x4f2d7e(0x1af)][_0x4f2d7e(0x1e9)]('user')?_0x4f2d7e(0x1c3):'bot','content':_0x58d642[_0x4f2d7e(0x1a0)]});}),localStorage[_0x35301f(0x1d9)](_0x43f7bf,JSON[_0x35301f(0x229)](_0x41d66d));}function loadChatHistory(){const _0x11ab42=_0x1c0de7,_0x2e3798=getChatStorageKey();if(!_0x2e3798)return;const _0x53a970=JSON[_0x11ab42(0x21a)](localStorage[_0x11ab42(0x185)](_0x2e3798)||'[]');clearChatUI();for(const _0x3a2923 of _0x53a970){_0x3a2923[_0x11ab42(0x1b7)]?appendFileBlock(_0x3a2923[_0x11ab42(0x1fa)],_0x3a2923['filename'],_0x3a2923[_0x11ab42(0x1b5)],![]):appendMessage(_0x3a2923[_0x11ab42(0x1fa)],_0x3a2923[_0x11ab42(0x1b5)],![]);}}function clearChatUI(){const _0x318869=_0x1c0de7;chat[_0x318869(0x1c9)]='';}fileBtn[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),()=>fileInput[_0x1c0de7(0x1a6)]()),fileInput['addEventListener']('change',()=>{const _0x1e7b75=_0x1c0de7;pendingFiles=[],filePreview[_0x1e7b75(0x1c9)]='';const _0x53333c=Array['from'](fileInput['files']);for(const _0xb3481d of _0x53333c){pendingFiles[_0x1e7b75(0x1bf)]({'file':_0xb3481d,'filename':_0xb3481d[_0x1e7b75(0x20b)]}),addFilePreview(_0xb3481d['name'],pendingFiles[_0x1e7b75(0x178)]-0x1);}lucide[_0x1e7b75(0x1c6)]({'icons':['file-text','x']});});function addFilePreview(_0x4f8ddc,_0x3ceb08){const _0x16bba5=_0x1c0de7,_0x5d0cf0=document[_0x16bba5(0x206)](_0x16bba5(0x175));_0x5d0cf0[_0x16bba5(0x17e)]=_0x16bba5(0x174),_0x5d0cf0[_0x16bba5(0x1c9)]=_0x16bba5(0x1e8)+_0x4f8ddc+_0x16bba5(0x1f7)+_0x3ceb08+_0x16bba5(0x226),filePreview[_0x16bba5(0x214)](_0x5d0cf0),_0x5d0cf0['querySelector'](_0x16bba5(0x228))[_0x16bba5(0x1fe)]=()=>removePendingFile(_0x3ceb08);}function removePendingFile(_0x2b470e){const _0x6cd7a3=_0x1c0de7;pendingFiles[_0x6cd7a3(0x1b3)](_0x2b470e,0x1),filePreview[_0x6cd7a3(0x1c9)]='',pendingFiles[_0x6cd7a3(0x19b)]((_0x4091db,_0x56f183)=>addFilePreview(_0x4091db[_0x6cd7a3(0x197)],_0x56f183)),lucide['createIcons']({'icons':[_0x6cd7a3(0x1f5),'x']});if(pendingFiles['length']===0x0)fileInput[_0x6cd7a3(0x207)]='';}function isMoreOfThatTrigger(_0x10ab48){const _0x10546d=_0x1c0de7,_0x49ef5d=[_0x10546d(0x1b6),_0x10546d(0x1bd),_0x10546d(0x21e),'bitte\x20mehr\x20davon',_0x10546d(0x186),_0x10546d(0x225),_0x10546d(0x1cb)],_0x3aab52=_0x10ab48['trim']()[_0x10546d(0x216)]();return _0x49ef5d[_0x10546d(0x1b4)](_0x4a06ca=>_0x3aab52===_0x4a06ca);}function getLastAIMessage(){const _0x48c173=_0x1c0de7,_0x39918f=Array[_0x48c173(0x1c0)](chat[_0x48c173(0x217)](_0x48c173(0x1b9)));for(let _0x5e2d0a=_0x39918f['length']-0x1;_0x5e2d0a>=0x0;_0x5e2d0a--){const _0x1cada6=_0x39918f[_0x5e2d0a];if(_0x1cada6[_0x48c173(0x1af)]['contains'](_0x48c173(0x181))&&_0x1cada6[_0x48c173(0x1af)][_0x48c173(0x1e9)](_0x48c173(0x1ae)))return _0x1cada6[_0x48c173(0x1a0)];if(_0x1cada6['classList'][_0x48c173(0x1e9)]('file-block')&&_0x1cada6[_0x48c173(0x1f0)][_0x48c173(0x1fa)]===_0x48c173(0x1ae))return _0x1cada6[_0x48c173(0x1f0)][_0x48c173(0x1b5)]||'';}return null;}function appendFileBlock(_0x160881,_0x1479f9,_0x2cce1a,_0x3eef39=!![]){const _0xf7ab1b=_0x1c0de7,_0x5d53fb=document[_0xf7ab1b(0x206)]('div');_0x5d53fb[_0xf7ab1b(0x17e)]=_0xf7ab1b(0x220),_0x5d53fb[_0xf7ab1b(0x1f0)][_0xf7ab1b(0x1fa)]=_0x160881,_0x5d53fb[_0xf7ab1b(0x1f0)][_0xf7ab1b(0x197)]=_0x1479f9,_0x5d53fb[_0xf7ab1b(0x1f0)]['content']=_0x2cce1a;const _0x14df3d=document[_0xf7ab1b(0x206)](_0xf7ab1b(0x175));_0x14df3d[_0xf7ab1b(0x17e)]='file-header',_0x14df3d[_0xf7ab1b(0x1c9)]='<i\x20data-lucide=\x22file-text\x22></i>\x20'+_0x1479f9,_0x5d53fb['appendChild'](_0x14df3d);if(_0x2cce1a&&_0x2cce1a[_0xf7ab1b(0x178)]>0x0){const _0xfdfe2b=document[_0xf7ab1b(0x206)](_0xf7ab1b(0x175));_0xfdfe2b[_0xf7ab1b(0x17e)]=_0xf7ab1b(0x187),_0xfdfe2b[_0xf7ab1b(0x1a0)]=_0x2cce1a,_0x5d53fb['appendChild'](_0xfdfe2b);const _0x3208a6=document['createElement'](_0xf7ab1b(0x170));_0x3208a6['className']=_0xf7ab1b(0x1bc),_0x3208a6[_0xf7ab1b(0x1c9)]=_0xf7ab1b(0x1ca),_0x3208a6[_0xf7ab1b(0x1a3)](_0xf7ab1b(0x1a6),()=>{const _0x2efc33=_0xf7ab1b;navigator[_0x2efc33(0x1e0)][_0x2efc33(0x222)](_0x2cce1a),_0x3208a6[_0x2efc33(0x1a0)]=_0x2efc33(0x171),setTimeout(()=>_0x3208a6['innerHTML']='<i\x20data-lucide=\x22copy\x22></i>\x20Copy',0x4b0),lucide['createIcons']({'icons':[_0x2efc33(0x16a)]});}),_0x5d53fb['appendChild'](_0x3208a6);}chat['appendChild'](_0x5d53fb),chat[_0xf7ab1b(0x1c5)]=chat[_0xf7ab1b(0x1ea)],lucide[_0xf7ab1b(0x1c6)]({'icons':[_0xf7ab1b(0x1f5),'copy']}),saveChatHistory();if(_0x3eef39){const _0x1f9759=JSON[_0xf7ab1b(0x21a)](localStorage[_0xf7ab1b(0x185)](_0xf7ab1b(0x203)));logToDiscord(_0xf7ab1b(0x16d),'User\x20sent\x20a\x20file:\x20**'+_0x1479f9+'**'+(_0x2cce1a?_0xf7ab1b(0x211)+_0x2cce1a[_0xf7ab1b(0x1cd)](0x0,0x3e8)+'\x0a```':''),_0x1f9759);}}function isCodeBlock(_0x2cf088){const _0x214210=_0x1c0de7;return/^``````$/['test'](_0x2cf088[_0x214210(0x21b)]());}function getCodeContent(_0x3d57dd){const _0x353186=_0x1c0de7;return _0x3d57dd[_0x353186(0x21b)]()[_0x353186(0x1ac)](/^``````$/,'');}sendBtn[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),handleSend),stopBtn['addEventListener'](_0x1c0de7(0x1a6),handleStop),userInput[_0x1c0de7(0x1a3)](_0x1c0de7(0x202),_0x25a6d3=>{const _0xc13d10=_0x1c0de7;_0x25a6d3[_0xc13d10(0x20d)]===_0xc13d10(0x18f)&&!_0x25a6d3[_0xc13d10(0x19f)]&&(_0x25a6d3[_0xc13d10(0x205)](),handleSend());}),userInput[_0x1c0de7(0x1a3)](_0x1c0de7(0x19e),autoResizeTextarea);function autoResizeTextarea(){const _0x63ad03=_0x1c0de7;userInput['style'][_0x63ad03(0x1be)]=_0x63ad03(0x1c7);const _0x2d02e8=0x64;userInput[_0x63ad03(0x1ea)]>_0x2d02e8?(userInput[_0x63ad03(0x201)][_0x63ad03(0x1be)]=_0x2d02e8+'px',userInput['style'][_0x63ad03(0x213)]=_0x63ad03(0x1c7)):(userInput[_0x63ad03(0x201)][_0x63ad03(0x1be)]=userInput[_0x63ad03(0x1ea)]+'px',userInput[_0x63ad03(0x201)][_0x63ad03(0x213)]=_0x63ad03(0x1f8));}autoResizeTextarea();function handleSend(){const _0x199d5d=_0x1c0de7,_0x3cf0f4=userInput['value'][_0x199d5d(0x21b)]();if(!_0x3cf0f4&&pendingFiles['length']===0x0)return;if(pendingFiles[_0x199d5d(0x178)]>0x0){for(const _0x16b735 of pendingFiles){appendFileBlock(_0x199d5d(0x1c3),_0x16b735[_0x199d5d(0x197)],'',!![]);const _0x45b2e8=JSON[_0x199d5d(0x21a)](localStorage[_0x199d5d(0x185)]('user_data'));logToDiscord('File\x20Upload',_0x199d5d(0x1fd)+_0x16b735[_0x199d5d(0x197)]+'**',_0x45b2e8);}pendingFiles=[],filePreview[_0x199d5d(0x1c9)]='',fileInput[_0x199d5d(0x207)]='';}if(_0x3cf0f4&&isMoreOfThatTrigger(_0x3cf0f4)){const _0x1bc30c=getLastAIMessage();_0x1bc30c?(appendMessage('user',_0x3cf0f4,!![]),logToDiscord(_0x199d5d(0x192),_0x199d5d(0x182)+_0x3cf0f4+_0x199d5d(0x18c),JSON[_0x199d5d(0x21a)](localStorage[_0x199d5d(0x185)](_0x199d5d(0x203)))),sendToAI(_0x1bc30c)):(appendMessage(_0x199d5d(0x1c3),_0x3cf0f4,!![]),appendMessage(_0x199d5d(0x1ae),'There\x20is\x20no\x20previous\x20AI\x20message\x20to\x20repeat.',!![]));userInput[_0x199d5d(0x207)]='',autoResizeTextarea(),toggleButtons(![]),saveChatHistory();return;}if(_0x3cf0f4){if(isCodeBlock(_0x3cf0f4)){appendMessage(_0x199d5d(0x1c3),_0x3cf0f4,!![]);const _0x14d016=JSON[_0x199d5d(0x21a)](localStorage[_0x199d5d(0x185)](_0x199d5d(0x203)));logToDiscord(_0x199d5d(0x204),_0x199d5d(0x1e1)+getCodeContent(_0x3cf0f4)['slice'](0x0,0x3e8)+_0x199d5d(0x1ff),_0x14d016),toggleButtons(![]),saveChatHistory();}else{appendMessage(_0x199d5d(0x1c3),_0x3cf0f4,!![]);const _0x2fc628=JSON[_0x199d5d(0x21a)](localStorage['getItem'](_0x199d5d(0x203)));logToDiscord('Message',_0x199d5d(0x182)+_0x3cf0f4,_0x2fc628),toggleButtons(!![]),sendToAI(_0x3cf0f4);}}else autoResizeTextarea(),toggleButtons(![]),saveChatHistory();userInput['value']='',autoResizeTextarea();}function handleStop(){const _0x5030bb=_0x1c0de7;abortController&&(abortController[_0x5030bb(0x199)](),toggleButtons(![]));}function showThinking(){const _0xcd732b=_0x1c0de7;if(typingEl)typingEl[_0xcd732b(0x1a9)]();typingEl=document['createElement'](_0xcd732b(0x175)),typingEl[_0xcd732b(0x17e)]=_0xcd732b(0x1f2),typingEl['textContent']='Fall\x20AI\x20is\x20thinking',chat[_0xcd732b(0x214)](typingEl),chat[_0xcd732b(0x1c5)]=chat[_0xcd732b(0x1ea)];}function updateTypingIndicator(_0x250c5b){const _0x46461d=_0x1c0de7;if(!typingEl)showThinking();typingEl['textContent']=_0x250c5b,chat[_0x46461d(0x1c5)]=chat[_0x46461d(0x1ea)];}async function sendToAI(_0x1822c1){const _0x107b83=_0x1c0de7;showThinking(),abortController=new AbortController();let _0x46f0cc='';try{const _0x2b0cc6=await fetch(_0x107b83(0x188),{'method':_0x107b83(0x1dc),'headers':{'Authorization':_0x107b83(0x184)+GROQ_API_KEY,'Content-Type':_0x107b83(0x17d)},'body':JSON[_0x107b83(0x229)]({'model':_0x107b83(0x219),'messages':[{'role':'system','content':_0x107b83(0x1db)},{'role':_0x107b83(0x1c3),'content':_0x1822c1}],'stream':!![]}),'signal':abortController[_0x107b83(0x195)]}),_0x2a523e=_0x2b0cc6[_0x107b83(0x1c4)]['getReader'](),_0x54f156=new TextDecoder(_0x107b83(0x20a));let _0x2ab86c=![];while(!_0x2ab86c){const {value:_0x8d5580,done:_0x3cfcac}=await _0x2a523e[_0x107b83(0x218)]();_0x2ab86c=_0x3cfcac;if(_0x8d5580){const _0x2851cc=_0x54f156[_0x107b83(0x1ab)](_0x8d5580,{'stream':!![]}),_0x1c0b61=_0x2851cc[_0x107b83(0x1e7)]('\x0a')['filter'](_0x447a34=>_0x447a34['trim']()!=='');for(const _0x3b8e00 of _0x1c0b61){if(_0x3b8e00[_0x107b83(0x16e)]('data:')){const _0x5ef9eb=_0x3b8e00[_0x107b83(0x1ac)](_0x107b83(0x1d2),'');if(_0x5ef9eb==='[DONE]')continue;try{const _0x1cbb41=JSON[_0x107b83(0x21a)](_0x5ef9eb),_0x5502b8=_0x1cbb41[_0x107b83(0x172)]?.[0x0]?.['delta']?.[_0x107b83(0x1b5)];_0x5502b8&&(_0x46f0cc+=_0x5502b8,updateTypingIndicator(_0x46f0cc));}catch{}}}}}if(typingEl)typingEl['remove']();appendMessage('bot',_0x46f0cc,!![]);}catch(_0x9fc479){if(typingEl)typingEl[_0x107b83(0x1a9)]();_0x9fc479['name']===_0x107b83(0x1fc)?appendMessage('bot',_0x107b83(0x17c)):appendMessage(_0x107b83(0x1ae),'An\x20error\x20occurred.');}finally{toggleButtons(![]);}}function toggleButtons(_0x44a8bd){const _0x101a43=_0x1c0de7;sendBtn['style'][_0x101a43(0x1c8)]=_0x44a8bd?'none':'inline-flex',stopBtn['style'][_0x101a43(0x1c8)]=_0x44a8bd?_0x101a43(0x20e):_0x101a43(0x1f6);}scrollBtn[_0x1c0de7(0x1a3)](_0x1c0de7(0x1a6),()=>{const _0x139c4a=_0x1c0de7;chat[_0x139c4a(0x1ef)]({'top':chat[_0x139c4a(0x1ea)],'behavior':'smooth'});}),chat[_0x1c0de7(0x1a3)](_0x1c0de7(0x1cf),()=>{const _0x293287=_0x1c0de7;scrollBtn['style'][_0x293287(0x1c8)]=chat[_0x293287(0x1c5)]+chat[_0x293287(0x177)]<chat[_0x293287(0x1ea)]-0x64?'flex':_0x293287(0x1f6);}),lucide['createIcons'](),window[_0x1c0de7(0x1a3)](_0x1c0de7(0x190),()=>{const _0x576df8=_0x1c0de7;handleOAuthRedirect(),updateFileBtnState();function _0x31af1f(){const _0x296bee=_0xb463;if(!localStorage[_0x296bee(0x185)]('fallai_welcome_shown')){const _0x12efa2=_0x296bee(0x1d5);appendMessage(_0x296bee(0x1ae),_0x12efa2,![]),localStorage['setItem']('fallai_welcome_shown','1');}}document[_0x576df8(0x1a3)]('DOMContentLoaded',()=>{_0x31af1f();});});
